{{> templates/navbar}}
<div class="container-superior" id="ofertas_body">
    <div class="filters">
        <label for="rubro"><b>Rubro:</b></label>
        <select id="rubro">
                <option value="Todos">Todos</option>
            {{#each rubros}}
                <option value="{{this.id}}">{{this.nombre}}</option>
            {{/each}}
            </select>
        </select>
    </div>

    <div class="points">
        <div class="points-min">
            <label for="puntos-min"><b>Puntos Mínimos</b></label>
            <input type="number" id="puntos-min" value="XXX" min="0" step="10">
        </div>

        <div class="points-max">
            <label for="puntos-max"><b>Puntos Máximos</b></label>
            <input type="number" id="puntos-max" value="XXX" min="0" step="10">
        </div>
    </div>
    {{#if esHumano}}
        <div class="available-points">
            <p><b>Puntos</b> <p>
            <p><b> Disponibles </b></p>
        </div>
        <div class="value-points">
            <b>{{ptsColab}}</b>
        </div>
        <div class="agregar-oferta">
            <a class="dark-btn" href="/ofertas/misCanjes">Mis Canjes</a>
        </div>
    {{else}}
    {{#if esJuridico}}
        {{#if agregarOferta}}
            <div class="agregar-oferta">
                <a class="dark-btn" href="/ofertas/misOfertas/publicar">Publicar Oferta</a>
            </div>
        {{else}}
        <div class="agregar-oferta">
            <a class="dark-btn" href="/ofertas/misOfertas">Tus Ofertas</a>
        </div>
        {{/if}}
    {{/if}}
    {{/if}}
</div>
{{#if popup_message}}
    <div id="overlay">
        <div id="overlayContent">
            <h6 class="black-text">{{popup_title}}</h6>
            <p class="black-text">{{popup_message}}</p>
            <button class="btn btn-dark my-button redondeado" onclick="hideOverlay('{{popup_ruta}}')">
                {{#if popup_button}}{{popup_button}}{{else}}Ok{{/if}}
            </button>
        </div>
    </div>
{{/if}}
<div id="ofertas_body">
    {{#block "ofertas"}}{{/block}}
</div>
<script src="/js/busquedaOfertas.js"></script>
<script>
    // Function to show the overlay
    function showOverlay() {
        document.getElementById("overlay").classList.add("show");
    }

    // Function to hide the overlay
    function hideOverlay(ruta) {
        document.getElementById("overlay").classList.remove("show");
        if (ruta != null) {
            window.location.href = ruta;
        }
    }
    // Show the overlay when the page loads
    window.onload = showOverlay;
</script>

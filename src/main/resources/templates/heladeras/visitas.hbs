{{> templates/navbar}}
<div class="col-md-6 overflow-auto p-3" style="display: flex; flex-direction: column; align-items: center; width: 100%; max-width: 100%">
    <h2 class="mb-4">Visitas Técnicas</h2>
    <ul class="list-group"  style="width: 100%">
        {{#if visitas.length}}
            {{#each visitas}}
                <li class="list-group-item mb-3" onclick="toggleDescripcion({{@index}})">
                    <div>
                        <strong>{{this.nombreHeladera}}</strong><br>
                        <small>{{this.fechaHora}}</small><br>
                        <p><strong>Exitosa:</strong> {{#if this.exitosa}}Sí{{else}}No{{/if}}</p>
                        <div id="descripcion-{{@index}}" class="mt-2" style="display: none;">
                            <p>{{this.descripcion}}</p>

                            {{#if this.imagen}}
                                <img src="{{this.imagen}}" alt="Imagen de visita" class="img-fluid mt-2" style="max-width: 200px;">
                            {{/if}}
                        </div>
                    </div>
                </li>
            {{/each}}
        {{else}}
            <h3 class="mt-5">Aún no hay visitas registradas</h3>
        {{/if}}
    </ul>
</div>


<script>
    function toggleDescripcion(index) {
        console.log(`Buscando elemento con id descripcion-${index}`);
        const descripcionElement = document.getElementById(`descripcion-${index}`);
        console.log("id :" + index)
        console.log(descripcionElement)
        descripcionElement.style.display = descripcionElement.style.display === 'none' ? 'block' : 'none';
    }
</script>
<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Registro</title>
    <link rel="stylesheet" href="/css/registro.css">
    <link rel="stylesheet" href="/css/containers.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-icons/1.9.1/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="/css/styles.css">

</head>
<body>
<header>
    <div class="container-fluid">
        <div class="header-container">
            <img src = "/img/heladera.png" alt="logo" class="logo mt-2 mb-2 ml-3 mr-3">
            <h1 class="titulo ml-2">Sistema de Mejora Alimentaria</h1>

        </div>
    </div>
</header>
<script>
    const Handlebars = require('handlebars');

    Handlebars.registerHelper('eq', function(arg1, arg2, options) {
    return (arg1 == arg2) ? options.fn(this) : options.inverse(this);
    });
</script>

<div class="container-supremo">
    <h1>Registro</h1>
    <form action="/user/create/{{rol}}" method="post" class="form-group" onsubmit="return validateFields()">
        {{#if persona}}
            <!-- Requeridos para persona -->
            <!-- Nombre -->
            <label for="nombre">Nombre</label>
            <input type="text"
                   class="form-control mb-4"
                   name="nombre"
                   id="nombre"
                   placeholder="Nombre"
                   required="required">

            <!-- Apellido -->
            <label for="apellido">Apellido</label>
            <input type="text"
                   class="form-control mb-4"
                   name="apellido"
                   id="apellido"
                   placeholder="Apellido"
                   required="required">

            <!-- Documento -->
            <label for="numero_documento">*Documento</label>
            <div class="documento-container">
                <select class="form-control" name="tipo_documento">
                    <option value="" disabled selected hidden>...</option>
                    <option value="dni">DNI</option>
                    <option value="pasaporte">PASS</option>
                    <option value="lc">LC</option>
                    <option value="le">LE</option>
                </select>
                <input type="text" class="form-control mb-4"
                       name="numero_documento" id="numero_documento"
                       placeholder="Numero de documento">
            </div>
        {{else juridico}}
            <!-- Requeridos para jurídico -->
            <!-- Rubro -->
            <label for="rubro">*Rubro</label>
            <select class="form-control mb-4" name="rubro" id="rubro">
                <option value="" disabled selected hidden>...</option>
                <option value="dni">Gastronomía</option>
                <option value="pasaporte">Ingeniería</option>
                <option value="libreta">Arte</option>
            </select>
            <!-- Razón social -->
            <label for="razon_social">Razón social</label>
            <input type="text"
                   class="form-control mb-4"
                   name="razon_social"
                   id="razon_social"
                   placeholder="Razón social"
                   required="required">

            <!-- Tipo de jurídico -->
            <label for="tipo_juridico">*Tipo de empresa</label>
            <select class="form-control mb-4" name="rubro" id="rubro">
                <option value="" disabled selected hidden>...</option>
                <option value="gubernamental">Gubernamental</option>
                <option value="ong">ONG</option>
                <option value="institucion">Institución</option>
                <option value="empresa">Empresa con fines de lucro</option>
            </select>

        {{else}}
            <!-- TODO: Qué pasó que que no entró en las otras ramas mmmm sus AMONGUS-->
        {{/if}}

        <!-- Requeridos para ambos, humano y jurídico -->
        <label for="calle_nombre">Calle</label>
        <input type="text"
               class="form-control mb-4"
               name="calle_nombre"
               id="calle_nombre"
               placeholder="Nombre de la calle"
               required="required">

        <label for="calle_altura">Altura</label>
        <input type="number"
               class="form-control mb-4"
               name="calle_altura"
               id="calle_altura"
               placeholder="Altura de la calle"
               required="required">

        <label for="info_contacto">Información de contacto</label>
        <input type="text"
               class="form-control mb-4"
               name="info_contacto"
               id="info_contacto"
               placeholder=""
               required="required">

        <label for="medio_contacto">Medio de contacto</label>
        <select class="form-control mb-4" name="rubro" id="rubro">
            <option value="" disabled selected hidden>...</option>
            <option value="email">Email</option>
            <option value="telefono">Teléfono</option>
            <option value="wpp">Whatsapp</option>
            <option value="telegram">Telegram</option>
        </select>

        <!-- Campos dinámicos -->
        {{#each preguntas}}
            <label for="{{this.param}}">{{this.campo}}</label>
            <input type="{{this.type}}"
                   class="form-control mb-4"
                   name="{{this.param}}"
                   id="{{this.param}}"
                   placeholder="{{this.campo}}"
                   required="{{this.required}}">
        {{/each}}

        <!-- Usuario -->
        <div class="user-box">
            <label for="user" class="form-label">*Usuario</label>
            <input type="text" placeholder="Usuario" id="user" name="user" class="my-input form-control" required="">
        </div>

        <div class="user-box">
            <label for="password" class="form-label">*Contraseña</label>
            <input type="password" placeholder="Contraseña" id="password" name="password" class="my-input form-control" required="">
            <span class="password-toggle-icon">
                <i class="fas fa-eye-slash" onclick="togglePw('password', this)"></i>
            </span>
        </div>

        <div class="user-box">
            <label for="passwordRepeat" class="form-label">*Repetir contraseña</label>
            <input type="password" placeholder="Repetir contraseña" id="passwordRepeat" name="passwordRepeat"
                   class="my-input form-control" required="">
            <span class="password-toggle-icon" onclick="togglePw('passwordRepeat', this.querySelector('.password-toggle-icon i'))">
                <i class="fas fa-eye-slash"></i>
            </span>
        </div>

        <div class="terminos-condiciones">
            <input type="checkbox" id="terminos-checkbox">
            <a href="google.com">Acepto los <u> terminos y condiciones</u></a>
        </div>

        <button class="btn btn-dark" type="submit">Registrarse</button>

    </form>

</div>

</body>
<script src="/js/ocultarPassword.js"></script>
<script src="/js/validateFields.js"></script>
</html>